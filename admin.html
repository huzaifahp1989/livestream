<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Admin Control Panel - Islamic Live TV">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="robots" content="noindex, nofollow">
    
    <title>Admin Panel - Islamic Live TV</title>
    
    <link rel="icon" type="image/png" href="./assets/images/favicon.png">
    <link rel="stylesheet" href="./css/main.css?v=1.1">
    <link rel="stylesheet" href="./css/admin.css?v=1.1">
    <link rel="stylesheet" href="./css/responsive.css?v=1.1">
</head>
<body class="admin-body">
    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-header">
                <img src="./assets/images/logo.png" alt="Islamic Live TV" class="login-logo">
                <h1>Admin Panel</h1>
                <p>Islamic Live TV Management System</p>
            </div>
            
            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" required autocomplete="username" class="form-input">
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required autocomplete="current-password" class="form-input">
                </div>
                
                <div class="form-group form-group--checkbox">
                    <label>
                        <input type="checkbox" id="rememberMe" name="rememberMe">
                        <span>Remember me</span>
                    </label>
                </div>
                
                <button type="submit" class="btn btn--primary btn--full">Login</button>
                
                <div class="login-error" id="loginError" style="display: none;"></div>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="adminDashboard" style="display: none;">
        <!-- Sidebar -->
        <aside class="admin-sidebar" id="adminSidebar">
            <div class="admin-sidebar__header">
                <img src="/assets/images/logo.png" alt="Logo" class="admin-sidebar__logo">
                <h2>Admin Panel</h2>
                <div id="cloudStatusContainer" style="display: flex; align-items: center; gap: 8px; margin-top: 8px; font-size: 12px;">
                    <div id="cloudStatus" class="status-indicator status-offline" style="width: 8px; height: 8px; border-radius: 50%; background: #ccc;"></div>
                    <span id="cloudStatusText" style="color: #999;">Connecting...</span>
                </div>
            </div>
            
            <nav class="admin-nav">
                <a href="#dashboard" class="admin-nav__link admin-nav__link--active" data-section="dashboard">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    Dashboard
                </a>
                <a href="#stream" class="admin-nav__link" data-section="stream">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
                    </svg>
                    Live Stream Control
                </a>
                <a href="#playlist" class="admin-nav__link" data-section="playlist">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"/>
                    </svg>
                    Playlist Manager
                </a>
                <a href="#recordings" class="admin-nav__link" data-section="recordings">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"/>
                    </svg>
                    Recordings
                </a>
                <a href="#schedule" class="admin-nav__link" data-section="schedule">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                    </svg>
                    Schedule
                </a>
                <a href="#analytics" class="admin-nav__link" data-section="analytics">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                    </svg>
                    Analytics
                </a>
                <a href="#settings" class="admin-nav__link" data-section="settings">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                    </svg>
                    Settings
                </a>
            </nav>
            
            <div class="admin-sidebar__footer">
                <button class="btn btn--secondary btn--full" id="logoutButton">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                        <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                    </svg>
                    Logout
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <div class="admin-header">
                <button class="mobile-sidebar-toggle" id="mobileSidebarToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <h1 class="admin-header__title" id="sectionTitle">Dashboard</h1>
                <div class="admin-header__user">
                    <span id="adminUsername">Admin</span>
                </div>
            </div>

            <div class="admin-content">
                <!-- Dashboard Section -->
                <section class="admin-section" id="section-dashboard">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-card__icon stat-card__icon--viewers">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                </svg>
                            </div>
                            <div class="stat-card__content">
                                <h3 class="stat-card__value" id="currentViewers">1,234</h3>
                                <p class="stat-card__label">Current Viewers</p>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card__icon stat-card__icon--watch-time">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                </svg>
                            </div>
                            <div class="stat-card__content">
                                <h3 class="stat-card__value" id="totalWatchTime">12.5K</h3>
                                <p class="stat-card__label">Hours Watched (Total)</p>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card__icon stat-card__icon--videos">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"/>
                                </svg>
                            </div>
                            <div class="stat-card__content">
                                <h3 class="stat-card__value" id="totalRecordings">156</h3>
                                <p class="stat-card__label">Total Recordings</p>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-card__icon stat-card__icon--status">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
                                </svg>
                            </div>
                            <div class="stat-card__content">
                                <h3 class="stat-card__value stat-card__value--status">
                                    <span class="status-indicator status-indicator--online"></span>
                                    LIVE
                                </h3>
                                <p class="stat-card__label">Stream Status</p>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3 class="dashboard-card__title">Most Watched Content</h3>
                            <div class="content-list" id="mostWatchedList">
                                <div class="loading-spinner">
                                    <div class="spinner spinner--small"></div>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-card">
                            <h3 class="dashboard-card__title">Recent Activity</h3>
                            <div class="activity-list" id="activityList">
                                <div class="loading-spinner">
                                    <div class="spinner spinner--small"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Stream Control Section -->
                <section class="admin-section" id="section-stream" style="display: none;">
                    <div class="stream-control-panel">
                        <div class="stream-status">
                            <h3>Current Stream Status</h3>
                            <div class="stream-status__info">
                                <span class="status-badge status-badge--live" id="streamStatusBadge">AUTO PLAYLIST</span>
                                <p id="streamStatusText">24/7 continuous playlist streaming is active</p>
                            </div>
                        </div>

                        <div class="stream-mode-toggle">
                            <h3>Stream Mode</h3>
                            <div class="toggle-buttons">
                                <button class="toggle-btn toggle-btn--active" id="autoModeBtn">
                                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                                        <path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"/>
                                    </svg>
                                    Auto Playlist
                                </button>
                                <button class="toggle-btn" id="liveModeBtn">
                                    <svg viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                                        <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
                                    </svg>
                                    Live Mode
                                </button>
                            </div>
                        </div>

                        <div class="live-source-config" id="liveSourceConfig" style="display: none;">
                            <h3>Live Source Configuration</h3>
                            
                            <div class="form-group">
                                <label>Source Type</label>
                                <select id="liveSourceType" class="form-select">
                                    <option value="youtube">YouTube Live</option>
                                    <option value="vimeo">Vimeo Live</option>
                                    <option value="rtmp">RTMP Stream</option>
                                    <option value="custom">Custom URL</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Stream URL / ID</label>
                                <input type="text" id="liveStreamUrl" class="form-input" placeholder="Enter stream URL or ID">
                            </div>

                            <div class="form-group">
                                <label>Stream Title</label>
                                <input type="text" id="liveStreamTitle" class="form-input" placeholder="Enter stream title">
                            </div>

                            <div class="form-actions">
                                <button class="btn btn--primary" id="startLiveBtn">Start Live Stream</button>
                                <button class="btn btn--danger" id="stopLiveBtn" style="display: none;">Stop Live Stream</button>
                            </div>
                        </div>

                        <div class="emergency-broadcast">
                            <h3>Emergency Broadcast Override</h3>
                            <div class="form-group">
                                <label>Emergency Message</label>
                                <textarea id="emergencyMessage" class="form-textarea" rows="3" placeholder="Enter emergency announcement"></textarea>
                            </div>
                            <div class="form-actions">
                                <button class="btn btn--danger" id="activateEmergencyBtn">Activate Emergency Broadcast</button>
                                <button class="btn btn--secondary" id="deactivateEmergencyBtn" style="display: none;">Deactivate</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Playlist Manager Section -->
                <section class="admin-section" id="section-playlist" style="display: none;">
                    <div class="section-header">
                        <h2>Playlist Manager</h2>
                        <div class="header-actions">
                            <div class="playback-controls" style="margin-right: 15px; display: inline-flex; align-items: center;">
                                <label style="margin-right: 10px; color: #fff;">Playback Order:</label>
                                <select id="playbackOrderSelect" class="form-select" style="width: auto; padding: 5px 10px;">
                                    <option value="sequential">Sequential</option>
                                    <option value="random">Random / Shuffle</option>
                                </select>
                            </div>
                            <button class="btn btn--primary" id="addVideoBtn">
                                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                </svg>
                                Add Video(s)
                            </button>
                            <button class="btn btn--secondary" id="searchYoutubeBtn" style="margin-left: 10px; background-color: #cc0000; color: white;">
                                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                                </svg>
                                Search YouTube
                            </button>
                            <button class="btn btn--secondary" id="importPlaylistBtn" style="margin-left: 10px;">
                                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                    <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                                </svg>
                                Import File
                            </button>
                            <button class="btn btn--secondary" id="importYoutubeBtn" style="margin-left: 10px; background-color: #ff0000; color: white; border-color: #ff0000;">
                                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
                                </svg>
                                Import YouTube
                            </button>
                            <button class="btn btn--secondary" id="forceSyncBtn" style="margin-left: 10px; background-color: #2c3e50; color: white;">
                                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                    <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
                                </svg>
                                Sync Cloud
                            </button>
                            <button class="btn btn--secondary" id="clearPlaylistBtn" style="margin-left: 10px; background-color: #c0392b; color: white;">
                                <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                    <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                                </svg>
                                Clear Playlist
                            </button>
                            <input type="file" id="playlistFileInput" accept=".json,.txt,.m3u,.csv" style="display: none;">
                        </div>
                    </div>

                    <div class="playlist-table">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Order</th>
                                    <th>Thumbnail</th>
                                    <th>Title</th>
                                    <th>Duration</th>
                                    <th>Type</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="playlistTableBody">
                                <tr>
                                    <td colspan="6" class="text-center">
                                        <div class="loading-spinner">
                                            <div class="spinner spinner--small"></div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Recordings Section -->
                <section class="admin-section" id="section-recordings" style="display: none;">
                    <div class="section-header">
                        <h2>Recordings Manager</h2>
                        <button class="btn btn--primary" id="addRecordingBtn">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                            Add Recording
                        </button>
                    </div>
                    <div class="recordings-table">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Thumbnail</th>
                                    <th>Title</th>
                                    <th>Date</th>
                                    <th>Duration</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="recordingsTableBody">
                                <tr><td colspan="5" class="text-center">Loading recordings...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Schedule Section -->
                <section class="admin-section" id="section-schedule" style="display: none;">
                    <div class="section-header">
                        <h2>Schedule Manager</h2>
                        <button class="btn btn--primary" id="addScheduleBtn">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                            Add Event
                        </button>
                    </div>
                    <div class="schedule-table">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Time</th>
                                    <th>Duration</th>
                                    <th>Recurrence</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="scheduleTableBody">
                                <tr><td colspan="5" class="text-center">Loading schedule...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Analytics Section -->
                <section class="admin-section" id="section-analytics" style="display: none;">
                    <div class="section-header">
                        <h2>Analytics</h2>
                    </div>
                    <div class="analytics-grid">
                        <div class="chart-container">
                            <h3>Viewers Over Time</h3>
                            <div class="chart-placeholder" style="height: 200px; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center;">Chart Area</div>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section class="admin-section" id="section-settings" style="display: none;">
                    <div class="section-header">
                        <h2>Settings</h2>
                        <button class="btn btn--primary" id="saveSettingsBtn">Save Changes</button>
                    </div>
                    <div class="settings-form">
                        <div class="form-group">
                            <label>Site Name</label>
                            <input type="text" class="form-input" id="siteName" value="Islamic Live TV">
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div class="modal" id="addVideoModal" style="display: none;">
        <div class="modal__backdrop"></div>
        <div class="modal__content modal__content--form">
            <button class="modal__close" id="closeAddVideoModal">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
            <h2>Add Video to Playlist</h2>
            <form id="addVideoForm">
                <div class="form-group">
                    <label>YouTube Video ID(s) or URL(s) (comma separated)</label>
                    <input type="text" class="form-input" required placeholder="id1, id2, url3...">
                </div>
                <div class="form-group">
                    <label>Title (Optional for multiple)</label>
                    <input type="text" class="form-input">
                </div>
                <div class="form-group">
                    <label>Order Position</label>
                    <input type="number" class="form-input" value="1" min="1">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn--primary">Add Video</button>
                    <button type="button" class="btn btn--secondary" id="cancelAddVideo">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="importYoutubeModal" style="display: none;">
        <div class="modal__backdrop"></div>
        <div class="modal__content">
            <button class="modal__close" id="closeImportYoutubeModal">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
            <div class="section-header">
                <h2>Import YouTube Playlist</h2>
            </div>
            <form id="importYoutubeForm" class="login-form">
                <div class="form-group">
                    <label for="youtubePlaylistUrl">YouTube Playlist URL or ID</label>
                    <input type="text" id="youtubePlaylistUrl" class="form-input" placeholder="e.g. https://www.youtube.com/playlist?list=..." required>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn--secondary" id="cancelImportYoutube">Cancel</button>
                    <button type="submit" class="btn btn--primary">Import Videos</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="searchYoutubeModal" style="display: none;">
        <div class="modal__backdrop"></div>
        <div class="modal__content" style="max-width: 800px; width: 90%;">
            <button class="modal__close" id="closeSearchYoutubeModal">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
            <div class="section-header">
                <h2>Search YouTube</h2>
            </div>
            <div class="search-container" style="display: flex; gap: 10px; margin-bottom: 20px;">
                <input type="text" id="youtubeSearchInput" class="form-input" placeholder="Search for videos..." style="flex: 1;">
                <button id="youtubeSearchBtn" class="btn btn--primary">Search</button>
            </div>
            <div id="youtubeSearchResults" class="search-results-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; max-height: 500px; overflow-y: auto;">
                <!-- Results will appear here -->
                <div style="grid-column: 1/-1; text-align: center; color: #aaa; padding: 20px;">
                    Enter a search term to find videos
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="addScheduleModal" style="display: none;">
        <div class="modal__backdrop"></div>
        <div class="modal__content modal__content--form">
            <button class="modal__close" id="closeAddScheduleModal">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            </button>
            <h2>Add Schedule Event</h2>
            <form id="addScheduleForm">
                <div class="form-group">
                    <label>Program Title</label>
                    <input type="text" class="form-input" id="scheduleTitle" required>
                </div>
                
                <div class="form-group">
                    <label>Content Type</label>
                    <select class="form-select" id="scheduleContentType">
                        <option value="playlist">Playlist</option>
                        <option value="video">YouTube Video</option>
                    </select>
                </div>

                <div class="form-group" id="schedulePlaylistContainer">
                    <label>Select Playlist</label>
                    <select class="form-select" id="schedulePlaylistSelect">
                        <!-- Populated by JS -->
                    </select>
                </div>

                <div class="form-group" id="scheduleVideoContainer" style="display: none;">
                    <label>YouTube Video ID or URL</label>
                    <input type="text" class="form-input" id="scheduleVideoId" placeholder="e.g. dQw4w9WgXcQ">
                </div>

                <div class="form-group">
                    <label>Description (Optional)</label>
                    <textarea class="form-textarea" id="scheduleDescription" rows="2"></textarea>
                </div>
                <div class="form-row" style="display: flex; gap: 15px;">
                    <div class="form-group" style="flex: 1;">
                        <label>Start Date</label>
                        <input type="date" class="form-input" id="scheduleDate" required>
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label>Start Time</label>
                        <input type="time" class="form-input" id="scheduleTime" required>
                    </div>
                </div>
                <div class="form-row" style="display: flex; gap: 15px;">
                    <div class="form-group" style="flex: 1;">
                        <label>Duration (Minutes)</label>
                        <input type="number" class="form-input" id="scheduleDuration" min="1" value="60">
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <label>Recurrence</label>
                        <select class="form-select" id="scheduleRecurrence">
                            <option value="none">One-time</option>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                </div>
                <div class="form-group" id="daysSelection" style="display: none;">
                     <label>Select Days</label>
                     <div class="checkbox-group" style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <label><input type="checkbox" name="days" value="0"> Sun</label>
                        <label><input type="checkbox" name="days" value="1"> Mon</label>
                        <label><input type="checkbox" name="days" value="2"> Tue</label>
                        <label><input type="checkbox" name="days" value="3"> Wed</label>
                        <label><input type="checkbox" name="days" value="4"> Thu</label>
                        <label><input type="checkbox" name="days" value="5"> Fri</label>
                        <label><input type="checkbox" name="days" value="6"> Sat</label>
                     </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn--primary">Save Event</button>
                    <button type="button" class="btn btn--secondary" id="cancelAddSchedule">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div class="toast" id="toast" style="display: none;"></div>

    <!-- Scripts -->
    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics-compat.js"></script>

    <script src="/js/config.js?v=1"></script>
    <script src="/js/utils.js?v=1"></script>
    <script src="/js/cloud.js?v=1"></script>
    <script src="/js/admin.js?v=1"></script>
</body>
</html>